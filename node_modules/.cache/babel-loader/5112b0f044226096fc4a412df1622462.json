{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Desktop/cat/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport Categories from './components/Categories/Categories';\nimport Feed from './components/Feed/Feed';\nimport axios from 'axios';\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      categories: [],\n      selectedCategory: null,\n      lastCategory: [],\n      images: [],\n      order: 'Desc',\n      page: 1,\n      limit: 10,\n      pagination_count: 0,\n      a: [],\n      b: []\n    };\n  }\n\n  chooseCategory(event) {\n    this.setState({\n      selectedCategory: event.target.value\n    });\n    this.getImages();\n  }\n\n  async getCategories() {\n    try {\n      axios.defaults.headers.common['x-api-key'] = \"8e805f31-3dfd-4cce-998c-e4337e5150ea\";\n      let response = await axios.get('https://api.thecatapi.com/v1/categories/');\n      this.setState({\n        categories: response.data\n      });\n      console.log(\"-- (\" + this.state.categories.length + \") Categories from TheCatAPI.com\");\n      console.log(this.state.categories);\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  async getImages() {\n    try {\n      axios.defaults.headers.common['x-api-key'] = \"8e805f31-3dfd-4cce-998c-e4337e5150ea\";\n      let query_params = {\n        limit: this.state.limit,\n        order: this.state.order,\n        page: this.state.page - 1,\n        category_ids: this.state.selectedCategory\n      };\n      let response = await axios.get('https://api.thecatapi.com/v1/images/search', {\n        params: query_params\n      });\n      this.pagination_count = response.headers['pagination-count'];\n      this.setState({\n        lastCategory: this.state.lastCategory.unshift(this.state.selectedCategory)\n      });\n      this.setState({\n        images: response.data\n      });\n      this.setState({\n        page: this.state.page + 1\n      });\n      console.log(\"-- (\" + this.state.images.length + \") Images from TheCatAPI.com\");\n      console.log(this.pagination_count, 'images available for this query.');\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  async showMoar() {\n    try {\n      axios.defaults.headers.common['x-api-key'] = \"8e805f31-3dfd-4cce-998c-e4337e5150ea\";\n      let query_params = {\n        limit: this.state.limit,\n        order: this.state.order,\n        page: this.state.page - 1,\n        category_ids: this.state.showMoreCategory\n      };\n      let response = await axios.get('https://api.thecatapi.com/v1/images/search', {\n        params: query_params\n      });\n      this.pagination_count = response.headers['pagination-count'];\n      this.setState({\n        a: this.state.images\n      });\n      this.setState({\n        b: response.data\n      });\n      this.setState({\n        c: this.state.a.concat(this.state.b)\n      });\n      console.log('a:', this.state.a);\n      console.log('b:', this.state.b);\n      console.log('c:', this.state.c);\n      this.setState({\n        images: this.state.c\n      });\n      this.setState({\n        page: this.state.page + 1\n      });\n      console.log(this.state.images);\n      console.log(\"-- (\" + this.state.images.length + \") Images from TheCatAPI.com\");\n      console.log(this.pagination_count, 'images available for this query.');\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  showMore() {\n    this.showMoar();\n    console.log(this.state.images);\n  }\n\n  componentDidUpdate(prevState) {\n    if (this.state.selectedCategory) {\n      this.getImages();\n      this.setState({\n        selectedCategory: null\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.getCategories();\n    this.getImages();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(Categories, {\n      categories: this.state.categories,\n      chooseCategory: this.chooseCategory.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }), React.createElement(Feed, {\n      showMore: this.showMore.bind(this),\n      images: this.state.images,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/mac/Desktop/cat/src/App.js"],"names":["React","Component","Categories","Feed","axios","App","state","categories","selectedCategory","lastCategory","images","order","page","limit","pagination_count","a","b","chooseCategory","event","setState","target","value","getImages","getCategories","defaults","headers","common","response","get","data","console","log","length","err","query_params","category_ids","params","unshift","showMoar","showMoreCategory","c","concat","showMore","componentDidUpdate","prevState","componentDidMount","render","bind"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport './App.css';\nimport Categories from './components/Categories/Categories'\nimport Feed from './components/Feed/Feed'\nimport axios from 'axios'\n\nclass App extends Component  {\n  state = {\n    categories: [],\n    selectedCategory: null,\n    lastCategory: [],\n    images: [],\n    order:'Desc',\n    page: 1,\n    limit: 10,\n    pagination_count: 0,\n    a: [],\n    b: []\n  }\n\n  chooseCategory(event) {\n    this.setState({selectedCategory: event.target.value});\n    this.getImages();\n  }\n\n\n\n  async getCategories()\n  {\n      try{\n          axios.defaults.headers.common['x-api-key'] = \"8e805f31-3dfd-4cce-998c-e4337e5150ea\" \n          \n          let response = await axios.get('https://api.thecatapi.com/v1/categories/' ) \n          this.setState({categories: response.data});\n          console.log(\"-- (\"+this.state.categories.length +\") Categories from TheCatAPI.com\")\n\n          console.log(this.state.categories)\n      }catch(err){\n          console.log(err)\n      }\n  }\n\n  async getImages()\n  {\n      try{\n          axios.defaults.headers.common['x-api-key'] = \"8e805f31-3dfd-4cce-998c-e4337e5150ea\" \n          let query_params = {\n              limit: this.state.limit,\n              order: this.state.order,\n              page: this.state.page-1,\n              category_ids: this.state.selectedCategory\n          }\n          let response = await axios.get('https://api.thecatapi.com/v1/images/search', { params: query_params } ) \n          this.pagination_count = response.headers['pagination-count'];\n          \n          this.setState({lastCategory: this.state.lastCategory.unshift(this.state.selectedCategory)});\n          this.setState({images: response.data});\n          this.setState({page: this.state.page + 1});\n          console.log(\"-- (\"+this.state.images.length +\") Images from TheCatAPI.com\")\n          console.log( this.pagination_count ,'images available for this query.')\n          \n      }catch(err){\n          console.log(err)\n      }\n  }\n\n  async showMoar()\n  {\n      try{\n          axios.defaults.headers.common['x-api-key'] = \"8e805f31-3dfd-4cce-998c-e4337e5150ea\" \n          let query_params = {\n              limit: this.state.limit,\n              order: this.state.order,\n              page: this.state.page-1,\n              category_ids: this.state.showMoreCategory\n          }\n          let response = await axios.get('https://api.thecatapi.com/v1/images/search', { params: query_params } ) \n          this.pagination_count = response.headers['pagination-count'];\n\n          this.setState({a: this.state.images});\n          this.setState({b: response.data});\n          this.setState({c: this.state.a.concat(this.state.b)});\n\n          console.log('a:', this.state.a);\n          console.log('b:',this.state.b);\n          console.log('c:',this.state.c);\n          this.setState({images: this.state.c});\n          this.setState({page: this.state.page + 1});\n\n          console.log(this.state.images);\n\n\n \n          console.log(\"-- (\"+this.state.images.length +\") Images from TheCatAPI.com\")\n          console.log( this.pagination_count ,'images available for this query.')\n          \n      }catch(err){\n          console.log(err)\n      }\n  }\n\n  showMore() {\n    this.showMoar();\n    console.log(this.state.images)\n  }\n\n  componentDidUpdate(prevState) {\n    if(this.state.selectedCategory) {\n      this.getImages();\n      this.setState({selectedCategory: null})\n    }\n  }\n\n  componentDidMount() {\n    this.getCategories();\n    this.getImages();\n  }\n\n  render () {\n    return (\n      <div className=\"App\">\n        <Categories categories={this.state.categories} chooseCategory={this.chooseCategory.bind(this)}/>\n        <Feed showMore={this.showMore.bind(this)} images={this.state.images}/>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}