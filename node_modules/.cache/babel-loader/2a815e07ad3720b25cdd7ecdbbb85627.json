{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Desktop/action-app/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport Categories from './components/Categories/Categories';\nimport Feed from './components/Feed/Feed';\nimport axios from 'axios';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      categories: [],\n      selectedCategory: event.target.value,\n      images: [],\n      order: 'Desc',\n      page: 1,\n      limit: 10,\n      pagination_count: 0\n    };\n    this.chooseCategory = this.chooseCategory.bind(this);\n  }\n\n  chooseCategory(event) {\n    this.setState({\n      selectedCategory: event.target.value\n    });\n    console.log(this.state.selectedCategory);\n  }\n\n  async getCategories() {\n    try {\n      axios.defaults.headers.common['x-api-key'] = \"8e805f31-3dfd-4cce-998c-e4337e5150ea\"; // Replace this with your API Key, as it's set to defaults it will be used from now onwards\n\n      let response = await axios.get('https://api.thecatapi.com/v1/categories/');\n      this.setState({\n        categories: response.data\n      });\n      console.log(\"-- (\" + this.state.categories.length + \") Categories from TheCatAPI.com\"); // pick one to display initially\n      //this.setState({selectedCategory: this.state.categories[0]});\n\n      console.log(this.state.categories);\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  async getImages() {\n    try {\n      axios.defaults.headers.common['x-api-key'] = \"8e805f31-3dfd-4cce-998c-e4337e5150ea\"; // Replace this with your API Key\n\n      let query_params = {\n        limit: this.state.limit,\n        order: this.state.order,\n        page: this.state.page - 1,\n        category_ids: this.state.selectedCategory\n      };\n      let response = await axios.get('https://api.thecatapi.com/v1/images/search', {\n        params: query_params\n      });\n      this.pagination_count = response.headers['pagination-count'];\n      this.setState({\n        images: response.data\n      });\n      console.log(\"-- (\" + this.state.images.length + \") Images from TheCatAPI.com\");\n      console.log(this.pagination_count, 'images available for this query.');\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  componentDidMount() {\n    this.getCategories();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(Categories, {\n      categories: this.state.categories,\n      chooseCategory: this.chooseCategory,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), React.createElement(Feed, {\n      images: this.state.images,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/mac/Desktop/action-app/src/App.js"],"names":["React","Component","Categories","Feed","axios","App","constructor","props","state","categories","selectedCategory","event","target","value","images","order","page","limit","pagination_count","chooseCategory","bind","setState","console","log","getCategories","defaults","headers","common","response","get","data","length","err","getImages","query_params","category_ids","params","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport './App.css';\nimport Categories from './components/Categories/Categories'\nimport Feed from './components/Feed/Feed'\nimport axios from 'axios'\n\nclass App extends Component  {\n  constructor(props) {\n    super(props);\n    this.state = {\n      categories: [],\n      selectedCategory: event.target.value,\n      images: [],\n      order:'Desc',\n      page: 1,\n      limit: 10,\n      pagination_count: 0\n    }\n    this.chooseCategory = this.chooseCategory.bind(this);\n  }\n\n\n  chooseCategory(event) {\n    this.setState({selectedCategory: event.target.value});\n    console.log(this.state.selectedCategory);\n\n  }\n\n  async getCategories()\n  {\n      try{\n          axios.defaults.headers.common['x-api-key'] = \"8e805f31-3dfd-4cce-998c-e4337e5150ea\" // Replace this with your API Key, as it's set to defaults it will be used from now onwards\n          \n          let response = await axios.get('https://api.thecatapi.com/v1/categories/' ) \n          this.setState({categories: response.data});\n          console.log(\"-- (\"+this.state.categories.length +\") Categories from TheCatAPI.com\")\n          // pick one to display initially\n          //this.setState({selectedCategory: this.state.categories[0]});\n          console.log(this.state.categories)\n      }catch(err){\n          console.log(err)\n      }\n  }\n\n  async getImages()\n  {\n      try{\n          axios.defaults.headers.common['x-api-key'] = \"8e805f31-3dfd-4cce-998c-e4337e5150ea\" // Replace this with your API Key\n          \n          let query_params = {\n              limit: this.state.limit,\n              order: this.state.order,\n              page: this.state.page-1,\n              category_ids: this.state.selectedCategory\n          }\n          let response = await axios.get('https://api.thecatapi.com/v1/images/search', { params: query_params } ) \n          this.pagination_count = response.headers['pagination-count'];\n          this.setState({images: response.data});\n          console.log(\"-- (\"+this.state.images.length +\") Images from TheCatAPI.com\")\n          console.log( this.pagination_count ,'images available for this query.')\n          \n      }catch(err){\n          console.log(err)\n      }\n  }\n\n  componentDidMount() {\n    this.getCategories();\n  }\n\n  render () {\n    return (\n      <div className=\"App\">\n        <Categories categories={this.state.categories} chooseCategory={this.chooseCategory}/>\n        <Feed images={this.state.images}/>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}